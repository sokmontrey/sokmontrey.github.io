---
import InfoCard from '@/components/InfoCard.astro';
import ShowMoreButton from './ShowMoreButton.astro';

import type { CollectionEntry } from 'astro:content';

type CollectionType = CollectionEntry<'projects'>
	| CollectionEntry<'experiences'>
	| CollectionEntry<'extra_curriculars'>;

interface Props {
	entries: CollectionType[];
	num_show: number;
	id: string;
}

const { entries, num_show, id } = Astro.props;
---

<ul class="py-4 pt-8 ">
	{entries.slice(0, num_show).map(entry => <InfoCard {entry} /> )}

	{entries.length > num_show ? <ShowMoreButton target_id={"more-" + id} /> : <></>}

	<div id={"more-" + id} class='hidden'>
		{entries.length > num_show 
		? entries.slice(num_show, entries.length).map(entry => <InfoCard {entry} /> )
		: <></> }
	</div>
</ul>
